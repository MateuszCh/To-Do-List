function Task(e,t,a,d,n){this.title=e,this.description=t,this.category=a,this.time=d,this.date=n,this.completed=!1}function clearAddForm(){addForm.classList.add("hide"),setTimeout(function(){addForm.style.display="none",addForm.classList.remove("hide")},500);for(var e=document.getElementsByClassName("addFormInputs"),t=0;t<e.length;t++)e[t].value="";showTasks()}function showTasks(){lista.innerHTML="",completedList.innerHTML="";for(var e=0;e<zadania.length;e++)if(void 0!=zadania[e]){var t=document.createElement("li");t.setAttribute("data-index-number",e);var a=document.createElement("input");a.type="checkbox",a.classList.add("completedCheckbox");var d="idy"+e;a.id=d;var n=document.createElement("label");n.setAttribute("for",d);var o=document.createElement("label"),s=document.createElement("button");s.innerHTML='<i class="fa fa-trash deleteButton" aria-hidden="true"></i>',zadania[e].title?o.textContent=zadania[e].title:o.textContent=zadania[e].description,t.appendChild(a),t.appendChild(n),t.appendChild(o),t.appendChild(s),zadania[e].completed?(completedList.appendChild(t),a.checked=!0):lista.appendChild(t)}updateHeadersForList(),updateCompletedTaskaCounter()}function updateHeadersForList(){if(lista.firstChild){var e=document.getElementById("tasksHeader");e.classList.add("showHeader")}else{var e=document.getElementById("tasksHeader");e.classList.remove("showHeader")}if(completedList.firstChild){var e=document.getElementById("completedTasksHeader");e.classList.add("showHeader")}else{var e=document.getElementById("completedTasksHeader");e.classList.remove("showHeader")}}function updateCompletedTaskaCounter(){for(var e=0,t=0,a=0;a<zadania.length;a++)zadania[a]&&(e++,zadania[a].completed&&t++);completedTasksCounter.textContent="Completed tasks: "+t+"/"+e}var addButton=document.getElementById("plus"),lista=document.getElementById("tasks"),completedList=document.getElementById("completedTasks"),addForm=document.getElementById("addForm"),closeButton=document.getElementById("close"),addTask=document.getElementById("addTask"),completedCheckbox=document.getElementsByClassName("completedCheckbox"),completedTasksCounter=document.getElementById("counter"),deleteAllButtons=document.getElementsByClassName("deleteAll"),title=document.getElementById("title"),category=document.getElementById("category"),content=document.getElementById("content"),time=document.getElementById("time"),data=document.getElementById("data"),zadania=[];addButton.addEventListener("click",function(e){addForm.style.display="block",addForm.classList.add("show"),setTimeout(function(){addForm.classList.remove("show")},500)},!1),closeButton.addEventListener("click",function(){clearAddForm()},!1),document.addEventListener("click",function(e){if(e.target&&e.target.classList.contains("deleteButton")){e.target.parentNode.parentNode.classList.add("hide");var t=e.target.parentNode.parentNode.dataset.indexNumber;delete zadania[t],setTimeout(function(){showTasks()},500),void 0==zadania[zadania.length-1]&&zadania.pop()}},!1),document.addEventListener("click",function(e){if(e.target&&e.target.classList.contains("completedCheckbox")){var t=e.target.parentNode.dataset.indexNumber;e.target.checked?zadania[t].completed=!0:zadania[t].completed=!1,showTasks()}},!1),addTask.addEventListener("click",function(e){if(e.preventDefault(),title.value||content.value){var t=new Task(title.value,content.value,category.value,time.value,data.value);zadania.push(t),console.log(zadania),clearAddForm()}}),document.addEventListener("click",function(e){if(e.target&&e.target.classList.contains("deleteAll")){if(e.target.parentNode==document.getElementById("tasksHeader")){lista.innerHTML="";for(var t=0;t<zadania.length;t++)zadania[t]&&0==zadania[t].completed&&delete zadania[t]}else if(e.target.parentNode==document.getElementById("completedTasksHeader")){completedList.innerHTML="";for(var a=0;a<zadania.length;a++)zadania[a]&&1==zadania[a].completed&&delete zadania[a]}updateHeadersForList()}},!1);